{% extends 'base.html' %}
{% load static %}

{% block head_extends %}
    <link rel="stylesheet" href="{% static 'swiper/swiper-4.2.6.min.css' %}">
    <script src="{% static 'swiper/swiper-4.2.6.min.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="swiper-container">
        <div class="swiper-wrapper">
            {% for book in book_commend %}
                <div class="swiper-slide">
                    <li>
                        <a href="{% url 'book_info' book.pk %}">
                            <img src="{{ book.cover.url }}" alt="">
                        </a>
                    </li>
                </div>
            {% endfor %}
        </div>

        <!-- 如果需要导航按钮 -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>

        <!-- 如果需要滚动条 -->
        <!-- <div class="swiper-scrollbar"></div> -->
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-9">
                <div class="panel panel-default">

                    <div class="panel-heading">
                        作品列表
                    </div>

                    <div class="panel-body">
                        {% for book in book_list %}
                            <a href="{% url 'book_info' book.pk %}">{{ book }}</a>
                        {% endfor %}
                    </div>

                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block script_extends %}
    <script type="text/javascript">
        window.onload = function() {
          var mySwiper = new Swiper ('.swiper-container', {
            // 轮播图的方向，也可以是vertical方向
            direction:'horizontal',

            //播放速度
            loop: true,

            // 自动播放时间
            autoplay:1000,

            // 播放的速度
            speed:2000,

            // 如果需要分页器，即下面的小圆点
            pagination: '.swiper-pagination',

            // 如果需要前进后退按钮
            nextButton: '.swiper-button-next',
            prevButton: '.swiper-button-prev',
    　　　　　

    　　　　　　// 这样，即使我们滑动之后， 定时器也不会被清除
    　　　　  autoplayDisableOnInteraction : false,

            // 如果需要滚动条
            scrollbar: '.swiper-scrollbar',
          });
        }
    </script>
{% endblock %}

